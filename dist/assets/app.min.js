function process(e,o){ffmpeg().input(path.join(__dirname,"/videos/video.mp4")).input(path.join(__dirname,"/videos/intro.mov")).on("progress",function(e){console.log(e)}).on("error",function(e,o,n){console.log("Cannot process video: "+e.message)}).complexFilter(["[0:v]setpts=PTS-STARTPTS,scale="+e+"x "+o+"[top];[1:v]setpts=PTS-STARTPTS,scale=1920x1080[bottom];[top][bottom]overlay=x=(W-w)/2:eof_action=pass"]).audioCodec("aac").videoCodec("libx264").output("C:/video/combined.mp4").run()}window.$=window.jQuery=require("jquery");var _=require("underscore"),path=require("path"),ffmpeg=require("fluent-ffmpeg");ffmpeg.setFfmpegPath("C:/ffmpeg/bin/ffmpeg.exe"),ffmpeg.setFfprobePath("C:/ffmpeg/bin/ffprobe.exe"),ffmpeg.setFlvtoolPath("C:/ffmpeg/bin/ffplay.exe"),ffmpeg.ffprobe(path.join(__dirname,"/videos/video.mp4"),function(e,o){if(e)console.error(e);else{console.log(o);var n=0,t=0;o.format.duration;_.each(o.streams,function(e){"undefined"!=typeof e.height&&(n=e.height),"undefined"!=typeof e.width&&(t=e.width)}),console.log(t,n)}}),document.ondragover=document.ondrop=function(e){e.preventDefault(),$("body").addClass("dropping")},document.ondragleave=function(e){$("body").removeClass("dropping")},document.body.ondrop=function(e){console.log(e.dataTransfer.files[0].path),e.preventDefault()};